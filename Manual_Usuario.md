# Manual de Usuario - Todo Jardin

Bienvenido a **Todo Jardin**, tu tienda online especializada en jardinería. Este manual te guiará a través de todas las funcionalidades disponibles para que disfrutes de la mejor experiencia de compra.

## Índice
1. [Registro y Acceso](#1-registro-y-acceso)
2. [Explorando el Catálogo](#2-explorando-el-catálogo)
3. [Realizando una Compra](#3-realizando-una-compra)
4. [Métodos de Pago](#4-métodos-de-pago)
5. [Seguimiento de Pedidos](#5-seguimiento-de-pedidos)
6. [Mi Perfil](#6-mi-perfil)

---

## 1. Registro y Acceso

### Crear una Cuenta
Para disfrutar de todas las ventajas (como guardar tus pedidos y preferencias), te recomendamos registrarte:
1. Haz clic en el **ícono de usuario** en la parte superior derecha o accede a **"Registrarse"**.
2. Rellena el formulario con:
   - Email (debe ser único)
   - Contraseña (mínimo 6 caracteres)
   - Nombre y apellidos
   - Teléfono de contacto
   - Dirección completa (calle, ciudad, código postal)
   - **Método de pago preferido** (tarjeta o contra reembolso)
3. Haz clic en **"Crear Cuenta"** y serás redirigido automáticamente a tu perfil.

### Iniciar Sesión
Si ya tienes cuenta:
1. Haz clic en el **ícono de usuario** en la parte superior derecha.
2. Introduce tu email y contraseña.
3. Serás redirigido a tu perfil donde podrás gestionar tus datos y ver tus pedidos.

> **Nota:** También puedes comprar como **invitado** sin necesidad de registrarte. Se creará una cuenta temporal automáticamente para gestionar tu pedido actual.

---

## 2. Explorando el Catálogo

### Búsqueda de Productos
Encuentra rápidamente lo que necesitas usando la **barra de búsqueda** situada en la parte superior de todas las páginas. Puedes buscar por nombre o descripción del producto.

### Filtros Avanzados
En la página de `/productos/`, puedes refinar tu búsqueda usando el panel lateral:
- **Categorías:** Selecciona una o varias categorías (ej. Herramientas, Semillas, Plantas).
- **Marcas:** Filtra por tus marcas favoritas.
- **Rango de Precio:** Usa el **deslizador dual verde** para ajustar el precio mínimo y máximo. Los valores se calculan automáticamente según los productos disponibles.
- **Productos Destacados:** Marca la casilla para ver solo los productos recomendados.

Una vez seleccionados tus filtros, haz clic en **"Aplicar Filtros"**. Puedes ver los filtros activos como badges verdes y eliminarlos con **"Limpiar Filtros"**.

### Ordenar Productos
Usa el desplegable "Ordenar por" para ordenar los resultados por:
- Nombre (A-Z o Z-A)
- Precio (Menor a Mayor o Mayor a Menor)

---

## 3. Realizando una Compra

Tienes tres formas de comprar en Todo Jardin:

### A. Compra Estándar (Carrito)
1. Navega por el catálogo y haz clic en un producto para ver sus detalles.
2. En la página de detalle, selecciona la cantidad y haz clic en **"Añadir al Carrito"**.
3. Abre el **mini-carrito** (icono en la esquina superior derecha) para ver tu resumen rápido, o haz clic en **"Ver Carrito"** para la vista completa.
4. En el carrito puedes:
   - Modificar cantidades con los botones +/-
   - Eliminar productos
   - Ver el subtotal, IVA y coste de envío
5. Haz clic en **"Tramitar Pedido"** para iniciar el checkout en 3 pasos:
   - **Paso 1:** Confirma tus datos personales, dirección de envío y elige entre entrega a domicilio o recogida en tienda.
   - **Paso 2:** Selecciona tu método de pago (tarjeta o contra reembolso). Si eliges tarjeta, se mostrará el formulario seguro de Braintree.
   - **Paso 3:** Revisa el resumen completo (productos, totales, dirección) y confirma el pedido.

### B. Compra Rápida (1-Click)
Ideal si solo quieres un producto y quieres ahorrar tiempo:
1. En el listado de productos, busca el botón **"Compra Rápida"**.
2. Accederás a una página única con todo lo necesario en un solo formulario:
   - Datos personales
   - Información de envío
   - Método de pago
   - Selector de cantidad con actualización automática de totales
3. Revisa el resumen del pedido en tiempo real (subtotal, IVA, envío, total).
4. Haz clic en **"Finalizar Compra"** y ¡listo! Tu pedido se crea directamente como confirmado.

**Ventajas de la Compra Rápida:**
- No necesitas añadir al carrito
- Todo en una sola página
- Cálculo automático de totales al cambiar cantidad
- Banner informativo si falta poco para envío gratis (mínimo €50)
- Perfecto para compras rápidas de un solo producto

### C. Compra como Invitado
No necesitas cuenta para comprar. Simplemente:
1. Añade productos al carrito o usa la compra rápida.
2. En el checkout, introduce tus datos de envío.
3. Se creará automáticamente una cuenta temporal para tu pedido.
4. Recibirás un email con tu número de pedido para hacer seguimiento.

> **Consejo:** Si compras como invitado, te recomendamos anotar tu número de pedido (formato: PED-XXXXXX) para poder rastrearlo después en el Rastreador de Pedidos.

---

## 4. Métodos de Pago

Ofrecemos formas de pago seguras y flexibles:

### Tarjeta de Crédito/Débito
- Aceptamos **Visa** y **Mastercard**.
- El pago se procesa de forma segura a través de **Braintree**, una plataforma de pagos líder mundial.
- Tus datos bancarios nunca se guardan en nuestros servidores gracias a la tokenización.
- El formulario de pago aparece integrado en la página (Drop-in UI) para mayor seguridad.
- Tu pedido se confirma inmediatamente al completar el pago.

### Contra Reembolso
- Paga en efectivo directamente al repartidor cuando recibas tu paquete.
- Ideal si prefieres no usar tarjeta online.
- **Importante:** Este método dejará tu pedido en estado **"En espera de pago"** hasta que se complete la entrega.
- El repartidor te entregará el paquete y cobrará el importe total en ese momento.

### Método de Pago Favorito
En tu perfil puedes guardar tu **método de pago preferido** (tarjeta o contra reembolso). Esto te permite:
- Agilizar tus compras futuras
- El método se auto-seleccionará en el checkout
- Si eliges contra reembolso como favorito, no verás el formulario de tarjeta
- Puedes cambiarlo cuando quieras desde tu perfil

### Costes de Envío
- **Envío estándar:** €5.99
- **Envío GRATIS:** En pedidos superiores a €50
- El coste se calcula automáticamente según tu carrito
- Verás banners informativos indicando cuánto falta para envío gratis

---

## 5. Seguimiento de Pedidos

### Usuarios Registrados
Si tienes cuenta, accede a **"Mis Pedidos"** desde tu perfil para ver tu historial completo. 

**Estados del pedido:**
- **Pendiente:** Pedido recibido, pendiente de confirmación.
- **En espera de pago:** Para pedidos contra reembolso que aún no se han entregado.
- **Confirmado:** Pedido verificado y aceptado.
- **Procesando:** Estamos preparando tu pedido.
- **Enviado:** Tu pedido está en camino.
- **Entregado:** ¡Pedido completado! Que lo disfrutes.
- **Cancelado:** Pedido cancelado.

En el historial verás:
- Número de pedido
- Fecha de creación
- Estado actual
- Total pagado
- Productos incluidos con imágenes
- Dirección de envío
- Método de pago utilizado

### Rastreador Público (Sin Registro)
Si compraste como invitado o quieres consultar rápido un pedido:
1. Ve a la **página principal** y haz clic en el botón **"Buscar Pedido"** del banner principal.
2. O accede directamente a `/buscar-pedido/`
3. Introduce tu número de pedido. Formatos aceptados:
   - `PED-123456`
   - `#PED-123456`
   - `123456` (solo el código)
4. Verás:
   - Estado actual del pedido
   - Lista de productos
   - Total
   - Dirección de envío (si aplica)
   - Fecha de creación

> **Importante:** Guarda tu número de pedido cuando compres como invitado. Lo recibirás en el email de confirmación.

---

## 6. Mi Perfil

### Acceso al Perfil
Haz clic en tu nombre (esquina superior derecha) y selecciona **"Mi Perfil"** para gestionar tu información personal.

### Información Personal
Puedes actualizar:
- **Nombre completo**
- **Email** (usado para notificaciones de pedidos)
- **Teléfono** (contacto para envíos)
- **Dirección de envío:** Calle, número, código postal, ciudad y país

Haz clic en **"Guardar cambios"** para actualizar tu información.

### Método de Pago Favorito
En esta sección puedes establecer tu método de pago preferido:
- **Tarjeta bancaria (Braintree)**
- **Contra reembolso**

**Ventajas:**
- El método seleccionado se aplicará automáticamente en futuros pedidos
- Agiliza el proceso de compra
- Puedes cambiarlo en cualquier momento desde el perfil
- Durante el checkout, tu preferencia estará preseleccionada

### Cambio de Contraseña
Si necesitas cambiar tu contraseña:
1. Haz clic en **"Cambiar contraseña"**
2. Introduce tu contraseña actual (confirmación de seguridad)
3. Escribe tu nueva contraseña
4. Confírmala reescribiéndola
5. Guarda los cambios

> **Seguridad:** Las contraseñas están cifradas. Si olvidas tu contraseña, usa el enlace **"¿Olvidaste tu contraseña?"** en la página de inicio de sesión.

### Historial de Pedidos
Desde el perfil puedes acceder directamente a **"Mis Pedidos"** para:
- Ver todos tus pedidos realizados
- Consultar estados actualizados
- Revisar detalles de compras anteriores

### Cerrar Sesión
Para cerrar sesión de forma segura, haz clic en tu nombre y selecciona **"Cerrar sesión"**.

---

*Gracias por confiar en Todo Jardin.*
