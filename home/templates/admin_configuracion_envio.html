{% load static %}

<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Configuración de Envío - Admin Panel</title>
    <link rel="stylesheet" href="{% static 'styles/main.css' %}">
    <link rel="stylesheet" href="{% static 'styles/admin.css' %}">
</head>
<body style="overflow-y: hidden;">
    <!-- Top Navigation Bar -->
    <nav class="topbar admin-topbar">
        <div class="topbar-container">
            <div class="logo">
                <a href="{% url 'admin_panel' %}">
                    <img src="{% static 'images/Logoadmin.png' %}" alt="Todo Jardin Logo">
                </a>
                <h1><a href="{% url 'admin_panel' %}">Todo Jardin</a></h1>
            </div>
            <div class="nav-links">
                <div class="admin-dropdown">
                    <a href="{% url 'admin_panel' %}" class="admin-link">Panel de Administración</a>
                    <div class="admin-dropdown-content">
                        <a href="{% url 'admin_panel' %}">Dashboard</a>
                        <a href="{% url 'admin_pedidos' %}">Pedidos</a>
                        <a href="{% url 'admin_productos' %}">Productos</a>
                        <a href="{% url 'admin_usuarios' %}">Usuarios</a>
                        <a href="{% url 'admin_configuracion_envio' %}" class="active">Configuración Envío</a>
                    </div>
                </div>
            </div>
            <div class="user-circle">
                <a href="{% url 'user' %}" class="user-link">
                    <div class="circle">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22z"/>
                        </svg>
                    </div>
                </a>
            </div>
        </div>
    </nav>

    <main class="admin-container">
        <h1>Configuración de Envío</h1>
        
        <div class="admin-header-actions" style="margin-left: 16.4%;">
            <a href="{% url 'admin_panel' %}" class="btn-back">← Volver al Panel</a>
        </div>

        <div class="envio-config-container">
            <form method="POST" class="config-form">
                {% csrf_token %}
                
                <div class="form-section">
                    <h2>Configuración de Costes de Envío</h2>
                    
                    <div class="form-group">
                        <label for="envio_minimo_gratis">Mínimo para envío gratuito (€)</label>
                        <input 
                            type="number" 
                            id="envio_minimo_gratis" 
                            name="envio_minimo_gratis" 
                            value="{{ config.envio_minimo_gratis }}" 
                            step="0.01"
                            min="0"
                            required>
                        <small>Cantidad mínima de compra para que el envío sea gratuito</small>
                    </div>
                    
                    <div class="form-group">
                        <label for="coste_envio_estandar">Coste de envío estándar (€)</label>
                        <input 
                            type="number" 
                            id="coste_envio_estandar" 
                            name="coste_envio_estandar" 
                            value="{{ config.coste_envio_estandar }}" 
                            step="0.01"
                            min="0"
                            required>
                        <small>Coste del envío para pedidos que no alcancen el mínimo</small>
                    </div>
                </div>

                <div class="info-box">
                    <h3>Información</h3>
                    <p>Los clientes pagarán <strong>€{{ config.coste_envio_estandar }}</strong> de envío</p>
                    <p>El envío será <strong>GRATIS</strong> para pedidos de <strong>€{{ config.envio_minimo_gratis }}</strong> o más</p>
                    <p>Última actualización: {{ config.fecha_actualizacion|date:"d/m/Y H:i" }}</p>
                </div>

                <div class="form-actions">
                    <button type="submit" class="btn-guardar">Guardar Configuración</button>
                    <a href="{% url 'admin_panel' %}" class="btn-cancel">Cancelar</a>
                </div>
            </form>
        </div>
    </main>
</body>
</html>
